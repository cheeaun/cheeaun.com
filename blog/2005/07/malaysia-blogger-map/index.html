<!DOCTYPE html>
<html lang="en">
<meta charset="utf-8">
<title>Malaysia Blogger Map &ndash; Lim Chee Aun</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="/assets/cheeaun.css">
<link rel="preload" href="/assets/fonts/WorkSans-Regular.woff2" as="font" type="font/woff2">
<meta name="twitter:card" content="summary">
<meta property="og:title" content="Malaysia Blogger Map">
<meta name="description" property="og:description" content="Few weeks ago, I&#x27;ve launched the Malaysia Blogger Map web site. It is one of my experiments to test a very cool Flash-based mapping applicationâ€¦">

<link rel="alternate" href="/blog/feed.xml" type="application/atom+xml" title="cheeaunblog">
<link rel="manifest" href="/manifest.webmanifest">
<link rel="apple-touch-icon" href="/assets/images/icon-192.png">
<meta name="color-scheme" content="light dark"><div id="container">
  <header role="banner">
    <h1>
      <a href="/"><svg width="120" height="120" viewBox="0 0 225 225">
    <title>Lim Chee Aun</title>
    <circle cx="112.5" cy="112.5" r="112.5" fill="#fa8e01"/>
    <path fill="#fff" d="M104.8 127.1c-.8.4-1.9.9-3 1.3-1.2.5-2.4.9-3.6 1.2-1.2.3-2.3.5-3.3.5-3 0-5.3-1.5-7-4.7-1.6-3.1-2.5-7.8-2.5-13.9 0-4.3.4-7.6 1.2-9.9.7-2.3 1.8-4 3.2-4.9 1.3-1 2.9-1.4 4.7-1.3 1.2-.1 2.7.1 4.4.5 1.8.4 3.7 1.1 5.7 2.2l3.3-15.5c-2.7-.9-5.3-1.5-8-1.9-2.5-.3-4.8-.5-6.8-.5-5.8 0-10.7 1.1-14.8 3.3-4.1 2.2-7.2 5.7-9.4 10.7-2.1 4.8-3.2 11.2-3.3 19.2 0 10.8 2.1 18.8 6.3 24 4.1 5.2 10.2 7.8 18.3 7.8 2.2 0 4.4-.1 6.6-.5 2.2-.3 4.3-.8 6.3-1.4 2-.6 3.7-1.3 5.2-2.1l-3.5-14.1zm54.5 16.9c-.2-1.8-.5-3.8-.8-6.1-.2-2.2-.4-4.5-.6-7-.2-2.4-.3-4.9-.3-7.3v-23c0-2.9-.3-5.6-1-8.1-.6-2.5-1.8-4.7-3.3-6.6-1.6-1.9-3.9-3.4-6.7-4.5-2.8-1-6.3-1.6-10.6-1.6-3.5 0-7.1.4-10.7 1.1-3.6.8-7.3 1.8-11 3.1l3.7 14c3.1-1.2 5.8-2.1 8.2-2.8 2.5-.6 4.5-.9 6.1-.9 1.8 0 3.3.5 4.4 1.4 1.2 1 1.8 2.6 1.8 4.9v7.7c-3.8.3-7.2.8-10.4 1.6s-6 1.9-8.4 3.3c-2.4 1.5-4.3 3.4-5.7 5.8-1.3 2.3-2 5.1-2 8.5 0 2.3.2 4.5.7 6.7.5 2.1 1.3 4 2.4 5.6 1.1 1.7 2.5 3 4.1 3.9 1.7 1 3.6 1.5 5.9 1.5 2.6 0 4.9-.4 6.9-1.2 2.1-.8 3.9-1.8 5.6-2.9 1.6-1.1 3.1-2.2 4.6-3.3l1.5 6.2h15.6zm-20.7-14.9c-.9.8-1.8 1.4-2.6 1.9s-1.6.7-2.5.7c-1.4 0-2.5-.6-3.4-1.8-.8-1.2-1.3-2.8-1.3-5 0-1.7.5-2.9 1.4-3.8 1-.8 2.2-1.4 3.7-1.7 1.5-.3 3-.6 4.7-.7v10.4z"/>
    <circle cx="112.5" cy="112.5" r="83.7" fill="none" stroke="#fff" stroke-width="20.1"/>
  </svg>
  </a>
    </h1>
  </header>
  <div id="content">
    <article itemscope itemtype="http://schema.org/BlogPosting">
      <header><h1 itemprop="heading">Malaysia Blogger Map</h1><time datetime="2005-07-25" class="meta date" itemprop="datePublished">25 July 2005</time></header><div itemprop="articleBody"><p>Few weeks ago, I&apos;ve launched the <a href="http://malaysiabloggers.com/showthread.php?t=556">Malaysia Blogger Map</a> web site. It is one of my experiments to test a very cool Flash-based mapping application called <a href="http://brainoff.com/worldkit/">worldKit</a>. If you&apos;ve never heard of it, don&apos;t worry, it&apos;s not too late for you to check it out.</p><figure><img src="/blog/images/screenshots/web/malaysia_blogger_map_worldkit_flash_points_penang.jpg" alt="Malaysia Blogger Map web site, displaying some points, or locations of plotted weblogs, in Penang on the worldKit-powered Flash-based Malaysia map" width="300" height="190"></figure><p>The site shows the whole map of Malaysia. Once loaded on the browser, some points will appear on the map with tooltips that show a weblog&apos;s title and description. If you click on the points or tooltips, it will bring you to that weblog&apos;s page. As some points get too <em>crowded</em> on the map, you may <em>zoom in</em> and see the landscape clearly via a smaller scale. Those weblogs are plotted on the map, following the exact coordinates provided by respective authors. Sound interesting, doesn&apos;t it?</p><p>Well, the site might look kind of easy to set up, but believe me, the <em>most interesting</em> part is actually <strong>behind the scenes</strong>. WorldKit is quite a lightweight application that is easy to be installed on almost any computing platform. However, the hardest part is to find a <em>good</em> map. Okay, I know, there are <em>hundreds</em> of sites providing maps out there but the problem is I also need to know the <strong>exact latitudes and longitudes</strong> of the <em>bounding box</em> of the map. In other words, it means the latitudes of the top and bottom crop, and longitudes of the left and right crop of the base map image. Unfortunately, not many maps, either online or in books, have such information.</p><p>So, there are three ways to acquire them.</p><ul>
<li>
<p>Try to search for <em>any</em> online mapping sites that possibly provide the map <em>and</em> the bounding box information. It&apos;s rare to find one, you see. Even if you found it, the generated map would be too small or low in quality. There are also maps that are too <em>bloated</em> with geological structures, rivers, mountains, roads, highways, hotels, airports, restaurants, tourist destinations, towns, cities and complicated text labels overlapping on one another. Besides, some maps are <em>copyrighted</em> and cannot be reproduced on other sites.</p>
</li>
<li>
<p>Find for map guides or map-related geographic books available from book stores. Get a map and scan it to the computer. But wait the minute, the quality of the map might deteriorate due to the nature of different mediums. Unit conversion between points and pixels might be incorrect. For maps, accuracy is <em>very</em> important. If it shifts few pixels off, all coordinates will be rendered wrong. For large maps, some parts may need to be scanned one by one, then stitched back into the original form on the computer. Yet, copyright issues might surface too.</p>
</li>
<li>
<p>Instead of finding for a base map of a specific area, maybe try download the <strong>whole world map</strong>! Later crop it to a desired area and calculate the bounding box information <em>manually</em>. It&apos;s a lot of work though.</p>
</li>
</ul><figure><img src="/blog/images/figures/maps/eastern_hemisphere_earth_map_satellite_image_land_surface_shallow_water_shaded_topography.jpg" alt="Eastern hemisphere Earth map satellite image, showing the land surface, shallow water and shaded topography" width="400" height="400"></figure><p>After some thinking, I decided to use the third way. From the <a href="http://brainoff.com/worldkit/doc/">worldKit documentation</a> pages, there is a link to NASA&apos;s spectacular <a href="http://earthobservatory.nasa.gov/Newsroom/BlueMarble/" title="a true-color 1km image of the Earth">Blue Marble</a> satellite images. It seems to be the <em>one and only</em> site to provide <strong>highly detailed whole Earth images</strong> produced from satellite data. Even the worldKit package includes <em>smaller</em> versions of them. Practically speaking, downloading a map image is easy, but viewing one is another story. The image file I wanted to download is the <strong>400.7Mb</strong> <a href="http://visibleearth.nasa.gov/view_rec.php?vev1id=11656" title="Blue Marble: Land Surface, Shallow Water, and Shaded Topography">Eastern hemisphere Earth map</a>. It measures a whooping <strong>21600&#xD7;21600px</strong> in dimension, equivalent to <strong>more than 400 monitors</strong> worth of screen space!</p><p>Since my dial-up connection is <em>bandwidth-challenged</em>, I asked some of my <em>broadband-connected</em> friends to download it. The first person I asked is Ching Yonghan of <a href="http://jsxblog.uni.cc/">Jsxblog</a>. Actually, he told me that he wants to do this blogger map, but somehow I&apos;m faster than him, in terms of planning. He managed to download it in about 2 hours, open it in Photoshop, crop it and send to me via e-mail. Things gone smoothly at first, but later I found out that the crop values he gave me are wrong. Could it be a mistake somewhere?</p><p>Then, I asked Nicole, one of the youngest bloggers ever known in Malaysia. She downloaded it, but couldn&apos;t open it due to lack of memory. Weird. Finally, I got fed up and asked for help from yet another friend of mine, Ming Shern, who is also a <a href="http://mingshern.blogs.friendster.com/" title="Mingshern&apos;s Blog">blogger</a>. I decided to do the whole thing with my own fingers and directly went to his house. Once the image is successfully downloaded, I try to open it with <a href="http://xnview.com/">XNview</a>. It cannot work. I try Photoshop. It cannot work too. It&apos;s the same <em>stupid</em> memory problem again!</p><p>At that time, I start to crack my geek brain and thought of a way. By launching Adobe Photoshop&apos;s &apos;Preferences&apos; window, I fiddle with the &apos;Scratch Disks&apos; settings and carefully increase the memory usage percentage. Restart Photoshop and within few minutes, the <strong>image loads!</strong> Yeah!</p><p>Now is the time to do some <em>serious</em> calculations. According to <a href="http://brainoff.com/worldkit/doc/">worldKit documentation</a>, the formulas below can be used to determine the N/S/E/W values in degrees, assuming that the origin is in the upper left hand corner:</p><ul>
<li>North = ( 180 &#xD7; (Height - TopCrop) &#xF7; Height ) - 90</li>
<li>South = ( 180 &#xD7; (Height - BottomCrop) &#xF7; Height ) - 90</li>
<li>East = 180 - ( 360 &#xD7; (Width - RightCrop) &#xF7; Width )</li>
<li>West = 180 - ( 360 &#xD7; (Width - LeftCrop) &#xF7; Width )</li>
</ul><p>Height and Width refer to the original whole Earth image, <strong>not</strong> the cropped image. Instead of cropping it first then determining the values of the bounding box, I did it in a reversed way. To display the whole Malaysia on the map, I&apos;ve determined such values:</p><ul>
<li>North = <strong>8&#xBA;N</strong></li>
<li>South = <strong>0&#xBA;</strong> (equator)</li>
<li>East = <strong>120&#xBA;E</strong></li>
<li>West = <strong>99&#xBA;E</strong></li>
</ul><p>These are round numbers, which I think <em>should</em> reduce error percentage. Using them, I&apos;ll have to calculate how many pixels should be cropped on the base map image, therefore the above formulas are <em>re-arranged</em>:</p><ul>
<li>TopCrop = Height - ( (North + 90) &#xD7; Height &#xF7; 180 )</li>
<li>BottomCrop = Height - ( (South + 90) &#xD7; Height &#xF7; 180 )</li>
<li>RightCrop = Width - ( (180 - East) &#xD7; Width &#xF7; 360 )</li>
<li>LeftCrop = Width - ( (180 - West) &#xD7; Width &#xF7; 360)</li>
</ul><figure><img src="/blog/images/figures/maps/earth_map_satellite_image_malaysia_region_bounding_box_crop_values.jpg" alt="Earh map satellite image, displaying Malaysia as the focused region with crop values of its bounding box" width="500" height="260"></figure><p>The width and height of the Eastern hemisphere map image is <strong>21600&#xD7;21600px</strong>, but for the <em>whole Earth</em> image including the Western hemisphere, it&apos;s supposed to be <strong>43200&#xD7;21600px</strong>. This means the RightCrop and LeftCrop values will have to be deducted by 21600 pixels. As a result, the calculator shows these values:</p><ul>
<li>TopCrop = <strong>9840 pixels</strong></li>
<li>BottomCrop = <strong>10800 pixels</strong></li>
<li>RightCrop = 36000 - 21600 = <strong>14400 pixels</strong></li>
<li>LeftCrop = 33480 - 21600 = <strong>11880 pixels</strong></li>
<li>Width of cropped region = RightCrop - LeftCrop = 14400 - 11800 = <strong>2520 pixels</strong></li>
<li>Height of cropped region = BottomCrop - TopCrop = 10800 - 9840 = <strong>960 pixels</strong></li>
</ul><p>Okay, no more Mathematics! It&apos;s Photoshop time again. Go to &apos;View&apos; and click on &apos;New Guide...&apos; to place four horizontal and vertical guides <em>around</em> the area, based on the values above. Use the &apos;Crop Tool&apos; and drag near the area as it snaps to the guides. Commit the operation, save it as a new file and done!</p><figure><img src="/blog/images/figures/maps/malaysia_map_satellite_image_contrast_brightness_colours_modified.jpg" alt="two Malaysia map satellite images, one is the default, the other is modified from its contrast, brightness and colours" width="400" height="350"></figure><p>The map base image is quite fine. The more I look at it, the more I feel that the colours are too <em>dark</em>, somehow. I also have to do some modification to make Malaysia <em>stands out better</em> from the crowd. A little colour fading, enhanced contrast, increased brightness, and changes to the sea colour make it look absolutely perfect.</p><p>After the map is ready, I start to draw my plans out and do some actions. I prepared a simple XHTML web page to display the Flash map, with instructions for people on how to add weblogs to it. To be honest, I&apos;m not a Flash fan myself, because I support open standards such as SVG more than proprietary ones. If you are a Flash enthusiast, I bet you would know that embedding Flash into a web page will produce invalid markup due to the presence of the <code>embed</code> element followed by browser compatibility issues. Heck, <strong>no more worries</strong> now, especially with Ian Hickson&apos;s <a href="http://ln.hixie.ch/?start=1081798064&amp;count=1">Embedding Flash without <embed></a> solution. It&apos;s valid, easy and works well in modern browsers. Cool!</p><figure><img src="/blog/images/artwork/logos/malaysia_blogger_map_smiley_earth.png" alt="Malaysia Blogger Map logo, showing a smiley and Earth, recycled from the Malaysia Blogger Forums logo design candidate" width="78" height="64"></figure><p>Besides that, I also <em>recycle</em> my previous logo design candidate for <a href="http://malaysiabloggers.com/">Malaysia Bloggers Forum</a> and tweak it a bit for this site. As for the required XML feed in worldKit, I did some quick PHP scripting that can let me add blogs from a form interface and generate an Atom feed file automatically. Since the map is too large to be displayed on normal screen resolutions, I resample it down to <strong>756&#xD7;288px</strong> and run the large one through <a href="http://zoomify.com/" title="Zoomify">Zoomifyer</a> which <em>spits</em> out <strong>56 zoom-and-pan images</strong> under a new directory. The integration between worldKit and Zoomify will process images faster and save precious bandwidth.</p><p>To my surprise, the launch of Malaysia Blogger Map caught few attention. Currently more than 10 weblogs have been plotted, mostly on West Malaysia. I&apos;ve learnt three <em>important</em> things from this:</p><ul>
<li>
<p>Some people actually don&apos;t know their exact coordinates. Most mapping sites on the web don&apos;t provide complete details of the Malaysian landscape, making it hard for them to find their spot. Even the ones I&apos;ve listed on the page, such as <a href="http://multimap.com/">Multimap</a>, <a href="http://maporama.com/">Maporama</a> and <a href="http://brainoff.com/geocoder/">Geocoder</a>, aren&apos;t very <em>user-friendly</em>, unfortunately.</p>
</li>
<li>
<p>In certain cases, people might doubt <em>where</em> their blog should be plotted. Let&apos;s say a guy is born in Penang, but his hometown is in Johor and he&apos;s currently studying in Kuala Lumpur, so <em>which</em> coordinates should he use? And what if he&apos;s not in Malaysia right now?</p>
</li>
<li>
<p>There are also a minority of people who don&apos;t understand geography, specifically how latitudes and longitudes work. If you see that the points are <em>overcrowded</em> in the map, it doesn&apos;t mean that they overlap on each other. The points are in fixed size. When you zoom in, you&apos;ll see clearly the points start to split apart, positioning itself based on their coordinates. So, if you want to plot your blog in Penang, don&apos;t say that your coordinates are the same as mine, okay?</p>
</li>
</ul><p>Anyway, this is only an experiment, or yet another project like <a href="http://phiwilson.org/ukbloggermap/">UK Blogger Map</a> and <a href="http://sanwangx.brain-c.com/geo/">Taiwan Blogger Map</a>. If you are a Malaysian blogger and would like to plot your weblog, just send me the details and I&apos;ll do the rest. No sweat.</p><p><strong>Malaysia <span lang="ms" title="can">boleh</span>!</strong></p></div>
      </article>
  </div>
  <footer>
    <nav>
      <ul>
        <li><a href="/blog/">Blog</a></li>
        <li><a href="/projects/">Projects</a></li>
        <li><a href="/about/">About</a></li>
      </ul>
    </nav>
  </footer></div>
<script>
  window.onload = function () {
    // Auto float images
    var $figures = document.getElementsByTagName('figure');
    if (!$figures.length) return;
    function asideImages () {
      for (var i = 0, l = $figures.length; i < l; i++) {
        var $figure = $figures[i];
        var $images = $figure.getElementsByTagName('img');
        if ($images.length == 1) {
          var $img = $images[0];
          var width = Math.max($img.naturalWidth, $img.width);
          var height = Math.max($img.naturalHeight, $img.height);
          if (width <= 280 && (width / $figure.parentNode.offsetWidth * 100 < 50) && height < window.innerHeight * 0.9) {
            $figure.className = 'image-aside';
          } else if ($figure.className) {
            $figure.className = '';
          }
        }
      }
    };
    asideImages();
    window.onresize = asideImages;

    // Autoplay videos when in viewport
    // https://benfrain.com/automatically-play-and-pause-video-as-it-enters-and-leaves-the-viewport-screen/
    function playPauseVideo() {
      var videos = document.querySelectorAll("video");
      videos.forEach((video) => {
        video.muted = true;
        var playPromise = video.play();
        if (playPromise !== undefined) {
          playPromise.then((_) => {
            var observer = new IntersectionObserver(
              (entries) => {
                entries.forEach((entry) => {
                  if (entry.isIntersecting) {
                    video.play();
                  } else {
                    video.pause();
                  }
                });
              },
              { threshold: 0.2 }
            );
            observer.observe(video);
          });
        }
      });
    }
    playPauseVideo();
  };
  if (navigator.serviceWorker) {
    window.addEventListener('load', function () {
      navigator.serviceWorker.register('/sw.js', {
        scope: '/'
      });
    });
  }
</script>
<script data-goatcounter="https://cheeaun.goatcounter.com/count" async src="//gc.zgo.at/count.v2.js" crossorigin="anonymous" integrity="sha384-PeYXrhTyEaBBz91ANMgpSbfN1kjioQNPHNDbMvevUVLJoWrVEjDCpKb71TehNAlj"></script>
<!-- Cloudflare Web Analytics --><script defer src='https://static.cloudflareinsights.com/beacon.min.js' data-cf-beacon='{"token": "56009c05c6234036a216843af8874520"}'></script><!-- End Cloudflare Web Analytics -->
</html>